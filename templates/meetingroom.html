{% extends "base.html" %}
{% block title %}{{meeting_room.name}}{% endblock %}
{% block content %}
<div id="title">
    <h1>{{ office.name }}</h1>
    <h1>Floor: {{floor.floor_num}}</h1>
    <h1>{{ meeting_room.name }}</h1>
</div>
<a href="/qr/{{ meeting_room.id }}">Get QR Code for this page</a>
<div id="issues">
    <h2>Issues</h2>
    <div id="viewer">
        <div class="view-selector">
            <button id="open-issues"
                hx-get="/issues/{{meeting_room.id}}?resolved=0"
                hx-trigger="click"
                hx-target="#issue-list"
                hx-swap="innerHTML">Open Issues</button>
            <button id="closed-issues"
                hx-get="/issues/{{meeting_room.id}}?resolved=1"
                hx-trigger="click"
                hx-target="#issue-list"
                hx-swap="innerHTML">Closed Issues</button>
        </div>
        <div id="issue-list">
            {% include "issues.html" %}
        </div>
        <div id="report">
            <h3>Report an Issue</h3>
            {% if errors %}
                <div class="errors">
                    {% for error in errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
            {% endif %}
            <form id="report-form">
                <label for="issue">Issue:</label>
                <input type="text" id="issue" name="issue" placeholder="I think the camera is on fire? The fire alarm has gone off!" required>
                <input type="email" id="email" name="email" placeholder="Email" required=>
                <button type="submit">Submit</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}
{% block scripts %}
{% endblock %}
